"use strict";var ydl={};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[　\s]+|[　\s]+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^[　\s]+/,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/[　\s]+$/,"")}),String.prototype.delSpace=function(){return this.replace(/[　\s]/g,"")},String.prototype.length2=function(){return this.replace(/[^\x00-\xff]/g,"..").length},String.prototype.toDate=function(){if(!this)return null;var e=Date.parse(this.replace(/-/g,"/").replace(/^(\d{4})(\d{2})(\d{2})$/,"$1/$2/$3"));return isNaN(e)?null:new Date(e)},function(e,t,r){function n(e,r,n){var a;if(a="string"==typeof e?t("#"+e):e,"hide"==r)a.removeClass("ajax-corver-container").find(".ajax-corver").remove();else if("error"==r){a.find(".ajax-corver > div").removeClass("ajax-loding").html("<div>"+n+"</div>");var o=a.find(".ajax-corver > div").height(),i=a.find(".ajax-corver > div > div"),l=i.height();o<l?i.find(".ajax-cover-text1, .ajax-cover-text2, .ajax-cover-text3").addClass("low-height"):i.css("margin-top",(o-l)/2+"px")}else a.addClass("ajax-corver-container").append('<div class="ajax-corver"><div class="ajax-loding"></div></div>')}function a(e,r,n,a,o){var i=[];if(t.isArray(e)){r=r||"text",n=n||"value";for(var l=0,s=e.length;l<s;l++)i.push(o(e[l][n],e[l][r],a(e[l][n]),l))}else if("object"==typeof e){var u=0;for(var c in e)i.push(o(c,e[c],a(c),u)),u++}return i.join("")}e.contexPath=function(){if(window.pageData&&pageData.contexPath)return pageData.contexPath;var e=t('meta[name="contexPath"]');if(e.length>0)return e.attr("content");var n=location.pathname.split("/")[1];return n===r||0==n.length?"":"/"+n}(),e.common={isIe:/Trident/.test(navigator.userAgent),keys:{A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,Num0:48,Num1:49,Num2:50,Num3:51,Num4:52,Num5:53,Num6:54,Num7:55,Num8:56,Num9:57,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,NumPadDot:110,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Left:37,Up:38,Right:39,Down:40,PageUp:33,PageDown:34,End:35,Home:36,NumPadAdd:107,NumPadSubtract:109,NumPadDivide:111,NumPadMultiplay:106,NumLock:144,Enter:13,Esc:27,Tab:9,Backspace:8,Delete:46,Slash:191,Quote:222,Space:32},blankOption:'<option value="">请选择...</option>'},e.uuid=function(e){if(e){var t,r=[],n="0123456789abcdef";for(t=0;t<36;t++)r[t]=Math.floor(16*Math.random());for(r[14]=4,r[19]=3&r[19]|8,t=0;t<36;t++)r[t]=n.charAt(r[t]);return r[8]=r[13]=r[18]=r[23]="-",r.join("")}return(new Date).getTime()},e.formatDate=function(t,r){var n={M:String(t.getMonth()+1),d:String(t.getDate()),H:String(t.getHours()),h:String(t.getHours()<13?t.getHours():t.getHours()-12),m:String(t.getMinutes()),s:String(t.getSeconds())};r=r||"yyyy-MM-dd HH:mm:ss";for(var a in n)r=r.replace(new RegExp(a+a,"g"),("0"+n[a]).substring(n[a].length-1)).replace(new RegExp(a,"g"),n[a]);return r=r.replace(/E/g,"日一二三四五六".charAt(t.getDay())).replace(/aa/g,t.getHours()<12?"上午":"下午").replace(/a/g,t.getHours()<12?"AM":"PM").replace(/yyyy/g,t.getFullYear()).replace(/yy/g,(""+t.getFullYear()).substring(2)).replace(/SSS/g,e.pad(t.getMilliseconds(),3)).replace(/S/g,t.getMilliseconds())},e.today=function(){return e.formatDate(new Date,"yyyy-MM-dd")},e.isLeapYear=function(e){return e instanceof Date?e=e.getFullYear():"string"==typeof e&&(e=e.substr(0,4)),e%4==0&&e%100!=0||e%400==0},e.dateAdd=function(t,r,n){if(n||(n="d"),"string"==typeof t&&(t=t.toDate()),!t)return NaN;var a=t.getFullYear(),o=t.getMonth(),i=t.getDate();switch(n.toLowerCase()){case"y":29!=i||1!=o||e.isLeapYear(a+r)||(i=28),t=new Date(a+r,o,i);break;case"m":var l=new Date(a,o+r+1,0).getDate();t=new Date(a,o+r,i>l?l:i);break;case"d":t=new Date(a,t.getMonth(),i+r)}return e.formatDate(t,"yyyy-MM-dd")},e.dateDiff=function(e,t,r){switch(r||(r="d"),"string"==typeof e&&(e=e.toDate()),"string"==typeof t&&(t=t.toDate()),r.toLowerCase()){case"y":return t.getFullYear()-e.getFullYear();case"m":return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth();case"d":return(t.getTime()-e.getTime())/864e5}},e.pad=function(e,t,n,a){n=n===r?"0":n;var o=(e+="").length2();if(a)for(;o++<t;)e+=n;else for(;o++<t;)e=n+e;return e},e.matchArray=function(e,t,r,n){if(!t)return n?"":null;for(var a=0;a<t.length;a++)if(t[a][r]==e)return n?t[a]?t[a][n]:"":t[a];return n?"":null},e.sort=function(e,t,r){var n=[].concat(e);switch(typeof t){case"string":return r?n.sort(function(e,r){return e[t]==r[t]?0:r[t]>e[t]?1:-1}):n.sort(function(e,r){return e[t]==r[t]?0:r[t]<e[t]?1:-1});case"function":return r?n.sort(function(e,r){return t(r)==t(e)?0:t(r)>t(e)?1:-1}):n.sort(function(e,r){return t(r)==t(e)?0:t(r)<t(e)?1:-1});default:return"boolean"==typeof t&&(r=t),r?n.sort(function(e,t){return e==t?0:t>e?1:-1}):n.sort()}},e.timer={duration:{},start:function(){var t=e.uuid();return this.duration[t]=new Date,t},output:function(e){return this.duration[e]?new Date-this.duration[e]:""},stop:function(e){if(this.duration[e]){var t=new Date-this.duration[e];return delete this.duration[e],t}}},e.getElementById=function(e,t){return"string"==typeof e?(t||window).document.getElementById(e):e},e.getElementsByName=function(e,t){return"string"==typeof e?(t||window).document.getElementsByName(e):e},e.getElementsByTagName=function(e,t){return"string"==typeof e?(t||window).document.getElementsByTagName(e):e},e.go=function(e,t){(t||window).location.href=e},e.getDom=function(t){var n=e.getElementById(t);return n?n instanceof jQuery?n.get():n:r},e.getInputsArray=function(n,a){"boolean"==typeof n&&(a=n,n=r);var o=a?"":":enabled",i=n===r?t(":input[name]"+o+":not(.fixtable-body :input,.datalist-editor-dialog :input)"):t(e.getDom(n)).find(":hidden[name],:input[name]"+o),l=[];return i.each(function(){if(t.inArray(this.type,["text","hidden","textarea","select-one","password"])>=0||t.inArray(this.type,["checkbox","radio"])>=0&&this.checked)l.push({name:this.name,value:this.value});else if("select-multiple"===this.type)for(var e=0;e<this.options.length;e++)this.options[e].selected&&l.push({name:this.name,value:this.options[e].value})}),l},e.getInputs=function(n,a){var o={};return t.each(e.getInputsArray(n,a),function(e,t){o[t.name]===r?o[t.name]=t.value:o[t.name]+=","+t.value}),o},e.ajax=function(a,o,i,l){l=t.extend({url:a,async:!0,method:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8",dataType:"json",timeout:18e5,cache:!1,silent:!1},l);var s={timeout:"读取服务器响应数据超时",error:"网络或服务器异常导致请求发送失败，请重试",abort:"请求操作已中止，请重试",parsererror:"服务器返回的数据格式不正确，浏览器无法解析"},u=t.Deferred();return l=t.extend(l,{data:"application/json"===l.contentType?JSON.stringify(o):o,error:function(t,r,a){var o=(s[r]||r)+"\n"+a;l.handleError?(l.ajaxContainer&&n(l.ajaxContainer,"hide"),l.handleError(null,"YDP03001",o),u.reject(r)):l.silent?(l.ajaxContainer&&n(l.ajaxContainer,"hide"),u.reject(r)):l.ajaxContainer?(n(l.ajaxContainer,"error",'<div class="ajax-cover-text1">网络或服务器异常导致请求发送失败</div><div class="ajax-cover-text2">请重新尝试</div><div class="ajax-cover-text3 hide">Method Not Allowed</div>'),u.reject(r)):e.alert({message:"对不起，系统出错了！",desc:(s[r]||r)+"\n\n"+a},function(){u.reject(r)})},success:function(t,a,o){t.returnCode&&0!=t.returnCode?"TIMEOUT"==t.returnCode?l.ajaxContainer?(n(l.ajaxContainer,"error",t.message?t.message:"登录超时，请重新登录！"),u.reject(t.message,t.returnCode,t)):e.alert(t.message?{message:"提示信息",desc:t.message}:"登录超时，请重新登录！",function(){u.reject(t.message,t.returnCode,t)}):l.handleError?(l.ajaxContainer&&n(l.ajaxContainer,"hide"),l.handleError(t,t.returnCode,t.message),u.reject(t.message,t.returnCode,t)):!l.silent&&t.message!==r&&t.message.length>0?l.ajaxContainer?(n(l.ajaxContainer,"error",t.message),u.reject(t.message,t.returnCode,t)):e.alert({message:"提示信息",desc:(l.errorCode&&l.errorCode[t.returnCode]!==r?l.errorCode[t.returnCode]:t.message)||"",code:t.returnCode},function(){u.reject(t.message,t.returnCode,t)}):(l.ajaxContainer&&n(l.ajaxContainer,"hide"),u.reject(t.message,t.returnCode,t)):(l.ajaxContainer&&n(l.ajaxContainer,"hide"),i&&i(t.data?t.data:t,t),u.resolve(t))}}),l.ajaxContainer&&n(l.ajaxContainer),t.ajax(l),u.promise()},e.createOptions=function(e,t,r,n){return a(e,t,r,function(e){return e==n},function(e,t,r){return'<option value="'+e+'"'+(r?' selected="selected"':"")+">"+t+"</option>"})},e.createRadios=function(e,t,r,n,o,i){return n||(n=""),a(e,t,r,function(e){return e==n},function(e,t,r,n){var a=r?' checked="checked"':"";return i?'<div class="radio"><label><input type="radio" id="'+o+":"+n+'" name="'+o+'" value="'+e+'"'+a+" />"+t+"</label></div>":'<label class="radio-inline"><input type="radio" id="'+o+":"+n+'" name="'+o+'" value="'+e+'"'+a+" />"+t+"</label>"})},e.createCheckboxes=function(e,r,n,o,i,l){return o||(o=""),o=o.split(","),a(e,r,n,function(e){return t.inArray(e,o)>=0},function(e,t,r,n){var a=r?' checked="checked"':"",o=i?' id="'+i+":"+n+'" name="'+i+'"':"";return l?'<div class="checkbox"><label><input type="checkbox"'+o+' value="'+e+'"'+a+" />"+t+"</label></div>":'<label class="checkbox-inline"><input type="checkbox"'+o+' value="'+e+'"'+a+" />"+t+"</label>"})},e.selectByValue=function(n,a){if(!n)return-1;if(n=e.getDom(n),a=a?(""+a).trimRight():"",n instanceof Array){for(var o=-1,i=0;i<n.length;i++)o=e.selectByValue(n[i],a);return o}if(n.tagName&&"SELECT"==n.tagName){for(var l=-1,s=n.options,i=0,u=s.length;i<u;i++)if(s[i].value!==r&&s[i].value.trimRight()==a){s[i].selected=!0,l=i;var c=t(n).prev().find("input.combobox");c.length>0&&(c.val(t(s[i]).text()),t(n).prev().find("input[type=hidden]").val(s[i].value));break}return l==-1&&lo("ydl.selectByValue：列表"+(n.id||"")+'中未找到值"'+a+'"',"orange"),l}if(n.type&&"hidden"===n.type){var d=t(n).parent();return d.hasClass("combobox-container")?e.selectByValue(d.next(),a):ll("ydl.selectByValue出错：指定的对象不是select",-1)}return ll("ydl.selectByValue出错：指定的对象不是select",-1)},e.string=function(e,t){return new Array(parseInt(t)+1).join(" ").replace(/ /g,e)},t.fn.getCell=function(r,n){try{if("TR"===this[0].tagName){var a;if("string"==typeof r){var o=this.closest("table").find("thead tr:last"),i=o.find("th._"+r).index();if(!(i>=0))return null;a=this.find("td:eq("+i+")")}else a=t(this[0].cells[r]);return n?a.find(n):a}return e.log("$.fn.getCell出错：该方法只能针对表格行使用","red"),null}catch(l){return e.log("$.fn.getCell出错："+e.error(l),"red"),null}},t.fn.addButton=function(e,r,n){var a,o,i;t.isPlainObject(n)?(a=n.id,o=n.icon?'<span class="glyphicon glyphicon-'+n.icon+'"></span> ':"",i=n.theme||"default"):(a=n,o="",i="default");var l=this.length>1||!a?"":' id="'+a+'"';return this.each(function(){var n=t(this);if(n.hasClass("datalist-table-body"))t('<button class="btn btn-'+i+'" type="button"'+l+">"+o+e+"</button>").click(function(){t.isFunction(r)&&r.call(n[0],n[0])}).prependTo(n.closest(".fixtable-box").prev().children("div"));else if(n.hasClass("ydpx-container"))0===n.children(".panel-heading").children(".btn-group").length&&n.children(".panel-heading").append('<div class="ydpx-container-buttons btn-group btn-group-sm pull-right"></div>'),t('<button class="btn btn-'+i+'" type="button"'+l+">"+o+e+"</button>").click(function(){t.isFunction(r)&&r.call(n[0],n[0])}).prependTo(n.children(".panel-heading").children(".btn-group"));else{var a=t('<button class="btn btn-'+i+' btn-sm" type="button"'+l+">"+o+e+"</button>").click(function(){t.isFunction(r)&&r.call(n[0],n[0])}).wrap('<span class="input-group-btn"></span>').parent(),s=n.parent();s.hasClass("input-group")||(s=s.children().wrapAll('<div class="input-group input-group-sm"></div>').parent()),s.append(a)}}),this},e.getMember=function(r){var n=t.type(r);if("object"==n||"array"==n){if(r.nodeType||t.isWindow(r))return String(r);var a=arguments.length>1?++arguments[1]:1;if(a>10)return"...";var o="    ",i=e.string(o,a-1),l="";if("array"===n){for(var s=0,u=r.length;s<u;s++)l+=o+i+s+": "+e.getMember(r[s],a)+"\n";return"[\n"+l+i+"]"}for(var c in r)l+=o+i+c+": "+e.getMember(r[c],a)+"\n";return"{\n"+l+i+"}"}if(t.isFunction(r)){var d=String(r);return d.substring(0,d.indexOf("{"))+"{...}"}return"string"===n?'"'+r+'"':String(r)},e.log=function(e){return window.console&&console.log(e),e},e.cookie=function(r,n,a){if(arguments.length>1&&(null===n||"object"!=typeof n)){if(a=t.extend({expires:365,domain:location.hostname,path:e.contexPath},a),null===n&&(a.expires=-1),"number"==typeof a.expires){var o=a.expires,i=a.expires=new Date;i.setDate(i.getDate()+o)}return document.cookie=[encodeURIComponent(r),"=",a.raw?String(n):encodeURIComponent(String(n)),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}a=n||{};var l=new RegExp("(?:^|; )"+encodeURIComponent(r)+"=([^;]*)").exec(document.cookie);return l?a.raw?l[1]:decodeURIComponent(l[1]):null},e.localData=function(e,t,n){if(window.localStorage&&window.sessionStorage)return null===t?(n?window.sessionStorage.removeItem(e):window.localStorage.removeItem(e),null):t===r?n?window.sessionStorage.getItem(e):window.localStorage.getItem(e):(n?window.sessionStorage.setItem(e,t):window.localStorage.setItem(e,t),t);var a=top.document.documentElement;return a.addBehavior("#default#userdata"),null===t?(a.removeAttribute("value"),a.save(e),null):t===r?(a.load(e),a.getAttribute("value")):(a.setAttribute("value",t),a.save(e),t)},e.sessionData=function(t,r){return e.localData(t,r,!0)},e.getStyle=function(e,t){var r;return r=e.currentStyle?e.currentStyle:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,""):e.style,t?r[t]:r},e.addComma=function(e){return e+="",e.indexOf(",")==-1?e.split("").reverse().join("").replace(/(\d{3})(?!\d*\.\d+)/g,"$1,").split("").reverse().join("").replace(/^(-?),/,"$1"):e},e.delComma=function(e){return(e+"").replace(/,/g,"")},e.capitalMoney=function(t,n){if(""===t)return"";if(t="number"==typeof t?t.toFixed(2):parseFloat(e.delComma(t.replace(/￥/g,""))).toFixed(2),t=t.replace(".",""),"000"==t)return"零元整";for(var a="零壹贰叁肆伍陆柒捌玖",o="分角元拾佰仟万拾佰仟亿拾佰仟万拾佰仟",i="",l=0;l<t.length;l++)i+=a.substr(t.substr(l,1)-"0",1)+o.substr(t.length-l-1,1);if(n||n===r){var s=function(e){return e.replace("零亿","亿").replace("零万","万").replace("零仟","零").replace("零佰","零").replace("零拾","零")},u=function(e){for(;e.indexOf("零零")>=0;)e=e.replace("零零","零");return e};i=s(u(s(i.replace("零角","零").replace("零分","零")))),i=u(s(i.replace("亿万","亿零").replace("零万","零"))).replace("零元","元"),"零"==i.charAt(i.length-1)&&(i=i.substr(0,i.length-1)+"整")}return i},e.getCheckedRadio=function(e){for(var r="string"==typeof e?document.getElementsByName(e):e instanceof jQuery?e.get():e,n=0;n<r.length;n++)if(r[n].checked)return{index:n,value:r[n].value,text:t(r[n]).parent().text()};return{index:-1,value:"",text:""}},e.getCheckedCheckbox=function(e){for(var r="string"==typeof e?document.getElementsByName(e):e instanceof jQuery?e.get():e,n=[],a=0;a<r.length;a++)r[a].checked&&n.push({index:a,value:r[a].value,text:t(r[a]).parent().text()});return n},e.setCheckedCheckbox=function(e,r){"string"==typeof r&&(r=r.split(","));var n=[];return t("input[name="+e+"]").each(function(){t.inArray(this.value,r)>=0?(this.checked=!0,n.push(this)):this.checked=!1}),n},e.setCheckedRadio=function(e,t){for(var r=document.getElementsByName(e),n=0;n<r.length;n++){var a=r[n];if(a.value==t)return a.checked=!0,a}return null},e.getSelectTextByValue=function(r,n){return r=e.getDom(r),r?t('option[value="'+n+'"]',r).text().trim()||n:n},e.selectByText=function(r,n){if(r=e.getDom(r),r instanceof Array){for(var a=-1,o=0;o<r.length;o++)a=arguments.callee(r[o],n);return a}if(r.tagName&&"SELECT"==r.tagName){var i=-1,l=r.options;n=n?(""+n).trimRight():"";for(var o=0,s=l.length;o<s;o++)if(t(l[o]).text().trimRight()==n){l[o].selected=!0,i=o;var u=t(r).next();u.is(".ui-autocomplete-input")&&u.val(t(l[o]).text());break}return i==-1&&e.log("ydl.selectByText：列表"+(r.id||"")+'中未找到文本"'+n+'"',"orange"),i}e.log("ydl.selectByText出错：指定的对象不是select","red")},t.fn.selectByText=function(t){return e.selectByText(this,t),this},e.attr=function(n,a,o){var i=e.getDom(n);if(i||"string"!=typeof n||(i=$n(n)),!i)return e.log("ydl.attr出错：找不到指定的表单对象","red"),null;if(1!=i.length||i instanceof HTMLSelectElement){if(i.length>1&&!(i instanceof HTMLSelectElement))return t.each(i,function(){e.attr(this,a,o)}),i}else i=i[0];"array"===t.type(i)&&1===i.length&&(i=i[0]),a=a.toLowerCase(),o=o||o===r;var l=i.tagName.toLowerCase(),s=i.type,u=t(i),c=u.closest("table").hasClass("datalist-table-body"),d=o?"addClass":"removeClass";"input"===l||"textarea"===l?"radio"===s||"checkbox"===s?"readonly"===a||"disabled"===a?u.closest(".multivalue").find(":input").prop("disabled",o):"hidden"===a?((c?u.closest("td").children():u.closest(".col"))[d]("hide"),o||c||u.closest(".input-group").removeClass("hide"),i.id&&t("label[for="+i.id.replace(/:/g,"\\:")+"],label[for="+i.id.replace(/:.+/,"")+"]")[d]("hide")):"required"===a&&(u.closest(".multivalue").data("required",o),c||u.closest(".col")[d]("star")):"readonly"===a||"disabled"===a?(i.readOnly=o,u.hasClass("date")&&u.datepicker(),u.hasClass("money")&&(u.next()[0].readOnly=o)):"hidden"===a?((c?u.closest("td").children():u.closest(".col"))[d]("hide"),o||c||u.closest(".input-group").addBack().removeClass("hide"),i.id&&t("label[for="+i.id.replace(/:/g,"\\:")+"]")[d]("hide"),u.hasClass("money")&&u.next()[d]("hide")):"required"===a&&(c||u.closest(".col")[d]("star"),u.attr("required",o)):"select"===l?"readonly"===a||"disabled"===a?(i.disabled=o,u.hasClass("combobox")&&u.combobox(o?"disable":"enable")):"hidden"===a?((c?u.closest("td").children():u.closest(".col"))[d]("hide"),o||c||u.closest(".input-group").addBack().removeClass("hide"),i.id&&t("label[for="+i.id.replace(/:/g,"\\:")+"]")[d]("hide")):"required"===a&&(c||u.closest(".col")[d]("star"),u.attr("required",o)):"button"===l&&("readonly"===a||"disabled"===a?window.pageData&&pageData.buttonAccess&&pageData.buttonAccess[i.id]&&!pageData.buttonAccess[i.id].access?i.disabled=!0:i.disabled=o:"hidden"===a&&u[d]("hide")),"required"!==a||o||(e.validator.clear(u.closest(".multivalue")),e.validator.clear(u))},e.removeAttr=function(t,r){return e.attr(t,r,!1)},e.getLabel=function(n,a){var o="",i=e.getDom(n);if(i===r)return document.getElementsByName(n).length>0&&(o=t("label[for="+n+"]").text()),o.replace(/[:：]$/g,"")||a||"";if(i instanceof Array&&0==i.length)return a||"";i instanceof Array&&(i=i[0]),a=a||i.id||"";var l=i.parentNode;if("TD"==l.tagName&&t(l).closest("table").hasClass("datalist-table-body"))try{var s=t(l.parentNode);o=s.closest("table").find("thead>tr:first").children(":eq("+s.children().index(l)+")").text().trim().replace(/\*$/,"")}catch(u){e.log("ydl.getLabel出错：获取标签失败"+e.error(u),"red"),o=""}else o=t(i).is("fieldset")?t('label[for="'+i.id.replace(/:/g,"\\:").replace("group_","")+'"]').text():t('label[for="'+i.id.replace(/:/g,"\\:")+'"]').text();return""==o?a:o.replace(/[:：]$/g,"")},e.getValue=function(r,n,a){if("boolean"==typeof n){var o=n;n=a,a=o}var i,l=e.getDom(r);if(l instanceof Array&&(l=l[0]),l)i="select-one"===l.type||"select-multiple"===l.type?t("option:selected",l).map(function(){if(a){var e=this.innerHTML.trim();return""===this.value&&"请选择..."===e?"":e}return this.value}).get().join(","):a&&t(l).hasClass("money")?t(l).next(".money-display").val():l.value;else if("string"==typeof r){var s=t("#group_"+r);if(s.hasClass("multivalue")){var u=t("[name="+r+"]:checked");i=u.map(function(){return a?t(this).parent("label").text():this.value}).get().join(",")}}return i||n||""},e.setValue=function(r,n){var a=e.getDom(r);return!a&&"string"==typeof r&&t("#group_"+r).hasClass("multivalue")&&(a=document.getElementsByName(r)),t(a).filter(":input:not(button)").each(function(r,a){var o=t(a);if(o.closest("table").hasClass("ydpx-datalist")){a.value=n;var i=n,l=o.parent();l.hasClass("money")&&(i=parseFloat(n),i=isNaN(i)?"":e.addComma(i.toFixed(o.data("declen")||2)),o.next().val(i)),"hidden"===a.type&&l.children("span").text(i)}else{var s=o.data("yd-widget");if(s&&o[s]("hasMethod","setValue"))o[s]("setValue",n);else if("radio"===a.type||"checkbox"===a.type)a.checked=t.inArray(a.value,n.split(","))!=-1;else if(o.hasClass("money")){var i=parseFloat(n);i=isNaN(i)?"":e.addComma(parseFloat(n).toFixed(o.data("declen")||2)),o.val(n).next().val(i)}else o.hasClass("combobox")||o.parent().hasClass("combobox-container")?e.selectByValue(a,n):o.val(n)}}),a},t.fn.setValue=function(t){return e.setValue(this,t),this},e.setHighlight=function(r,n){var a=e.getDom(r);!a&&"string"==typeof r&&t("#group_"+r).hasClass("multivalue")&&(a=document.getElementsByName(r)),t(a).filter(":input").each(function(e,r){var a=t(r);if("BUTTON"==r.tagName)a.toggleClass("btn-highlight",0!=n);else{var o=a;"radio"===r.type||"checkbox"===r.type?o=a.closest("fieldset"):(a.hasClass("money")||a.hasClass("combobox")||a.parent().hasClass("combobox-container"))&&(o=a.parent()),o.toggleClass("highlight",0!=n)}})},e.arr2obj=function(e,r,n){var a={};if(t.isFunction(n))for(var o=0;o<e.length;o++)a[e[o][r]||o]=n(e[o],o);else for(var o=0;o<e.length;o++)a[e[o][r]||o]=e[o][n];return a},e.obj2arr=function(e,t,n){t===r&&(t="key"),n===r&&(n="value");var a=[];for(var o in e){var i={};i[t]=o,i[n]=e[o],a.push(i)}return a},e.arr2arr=function(e,n){n===r&&(n="value");var a=[];if(t.isFunction(n))for(var o=0;o<e.length;o++)a.push(n(e[o],o));else for(var o=0;o<e.length;o++)a.push(e[o][n]);return a},e.deferred=function(e){for(var r=t.isArray(e)?e:arguments,n=[],a=0;a<r.length;a++){var o=r[a];if(t.isFunction(o.promise))n.push(o);else if(t.isFunction(o)){var i=o();i?n.push(t.Deferred().resolve()):n.push(t.Deferred().reject())}else"boolean"==typeof o?o?n.push(t.Deferred().resolve()):n.push(t.Deferred().reject()):n.push(t.Deferred().resolve())}return t.when.apply(null,n)},t.fn.buttonText=function(e){return this.each(function(){var r=t(this);if(r.is("button")){var n=r.html();n=n.replace(/^(<span.+?<\/span>)?.+?(<span.+?<\/span>)?$/,"$1"+e+"$2"),r.html(n)}})},e.error=function(t,r){if("string"==typeof t)return t;switch(r=r||"message",r.toLowerCase()){case"message":return t.message||t.description;case"all":return e.getMember(t);default:return t[r]}},e.render=function(e,t){if(!e)return"";"object"!=typeof t&&(t=Array.prototype.slice.call(arguments,1));var r=0;return e.replace(/\$?\$\{(.*?)\}/g,function(e,n){return 0===e.indexOf("$$")?e.substr(1):t[""===n?r++:n]||""})},e.idCardInfo=function(t){if(!t)return null;if(!e.validator.get("idcard")(t,{type:"idcard"}))return null;var r=18==t.length?t.substr(6,4):"19"+t.substr(6,2),n=t.substr(18==t.length?10:8,2),a=t.substr(18==t.length?12:10,2),o=r+"-"+n+"-"+a,i=window.poolSelect&&poolSelect.CURRENT_SYSTEM_DATE||e.today(),l=e.dateDiff(o,i,"y");e.dateDiff(e.dateAdd(o,l,"y"),i,"d")<0&&l--;var s={birthdate:o,age:l,sex:parseInt(t.substr(18==t.length?16:14,1))%2==0?2:1};return s},t.fn.bgiframe=/Trident/.test(navigator.userAgent)?function(e){function r(e){return e&&e.constructor===Number?e+"px":e}e=t.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"about:blank"},e);var n='<iframe class="bgiframe" frameborder="0" tabindex="-1" src="'+e.src+'"style="display:block; position:absolute; z-index:-1;'+(e.opacity!==!1?"filter:Alpha(Opacity='0');":"")+"top:"+("auto"==e.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth) || 0) * -1) + 'px')":r(e.top))+";left:"+("auto"==e.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth) || 0) * -1) + 'px')":r(e.left))+";width:"+("auto"==e.width?"100%":r(e.width))+";height:"+("auto"==e.height?"100%":r(e.height))+';"/>';return this.each(function(){t(this).prepend(n)})}:function(){return this}}(ydl,jQuery);var $$=ydl.getElementById,$n=ydl.getElementsByName,$t=ydl.getElementsByTagName,lo=ydl.log,lm=function(e){return ydl.log(ydl.getMember(e)),e},ll=function(e,t){return ydl.log(e+": "+ydl.getMember(t)),t};